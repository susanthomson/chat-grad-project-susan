<!DOCTYPE html>
<html lang="en" ng-app="ChatApp">
    <head>
        <meta charset="utf-8">
        <title>Chat</title>
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.css">
        <script src="bundle.js"></script>
    </head>
    <body ng-controller="ChatController">
        <a ng-show="!loggedIn" href="{{loginUri}}">Log in</a>
        <section class="container" ng-if="loggedIn">
            <div layout="row" style="align-items: center">
                <md-button class="md-icon-button" ng-click="showProfile($event)">
                    <md-icon md-colors="{color: 'accent-A200'}" >account_circle</md-icon>
                    <md-tooltip>view profile</md-tooltip>
                </md-button>
                <div class="md-subheader">Logged in as {{user.name}}.</div>
            </div>
            <div flex layout="row" class="fullheight" layout-wrap>
                <md-tabs flex="20" class="fullheight">
                    <md-tab class="fullheight">
                        <md-tab-label>user list</md-tab-label>
                        <md-tab-body>
                            <chat-app-user-list user="user" active-conversation="activeConversation"></chat-app-user-list>
                        </md-tab-body>
                    </md-tab>
                    <md-tab class="fullheight">
                        <md-tab-label>conversations</md-tab-label>
                        <md-tab-body>
                            <chat-app-conversation-list user="user"></chat-app-conversation-list>
                        </md-tab-body>
                    </md-tab>
                </md-tabs>
                <div flex class="fullheight">
                    <chat-app-conversation user="user" active-conversation="activeConversation" update-conversation="updateConversation"></chat-app-conversation>
                </div>
            </div>
        </section>
    </body>
</html>